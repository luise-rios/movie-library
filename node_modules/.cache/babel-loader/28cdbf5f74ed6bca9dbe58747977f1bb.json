{"ast":null,"code":"import _regeneratorRuntime from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import*as movieAPI from'../services/movieAPI';import{Loading,MovieDetailsCard}from'../components';var MovieDetails=/*#__PURE__*/function(_Component){_inherits(MovieDetails,_Component);var _super=_createSuper(MovieDetails);function MovieDetails(){var _this;_classCallCheck(this,MovieDetails);_this=_super.call(this);_this.state={movie:{},loading:true};_this.requestMovie=_this.requestMovie.bind(_assertThisInitialized(_this));_this.deleteMovie=_this.deleteMovie.bind(_assertThisInitialized(_this));return _this;}_createClass(MovieDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.requestMovie();}},{key:\"requestMovie\",value:function requestMovie(){var _this2=this;var id=this.props.match.params.id;this.setState({loading:true},/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var requestMovie;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return movieAPI.getMovie(id);case 2:requestMovie=_context.sent;_this2.setState({loading:false,movie:requestMovie});case 4:case\"end\":return _context.stop();}}},_callee);})));}},{key:\"deleteMovie\",value:function deleteMovie(){var id=this.props.match.params.id;movieAPI.deleteMovie(id);}},{key:\"render\",value:function render(){var _this$state=this.state,loading=_this$state.loading,movie=_this$state.movie;return loading?/*#__PURE__*/React.createElement(Loading,null):/*#__PURE__*/React.createElement(\"div\",{className:\"details-container\",\"data-testid\":\"movie-details\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Movie Details\"),/*#__PURE__*/React.createElement(MovieDetailsCard,{movie:movie}));}}]);return MovieDetails;}(Component);export default MovieDetails;","map":{"version":3,"sources":["/home/luisemiranda/Projetos-GitHub/movie-library/src/pages/MovieDetails.js"],"names":["React","Component","movieAPI","Loading","MovieDetailsCard","MovieDetails","state","movie","loading","requestMovie","bind","deleteMovie","id","props","match","params","setState","getMovie"],"mappings":"8oCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,sBAA1B,CACA,OAASC,OAAT,CAAkBC,gBAAlB,KAA0C,eAA1C,C,GAIMC,CAAAA,Y,4GACJ,uBAAc,8CACZ,wBAEA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,OAAO,CAAE,IAFE,CAAb,CAKA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CATY,aAUb,C,sFAEmB,CAClB,KAAKD,YAAL,GACD,C,mDAEc,oBACLG,CAAAA,EADK,CACE,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MADnB,CACLH,EADK,CAEb,KAAKI,QAAL,CAAc,CAAER,OAAO,CAAE,IAAX,CAAd,sEAAiC,0KACJN,CAAAA,QAAQ,CAACe,QAAT,CAAkBL,EAAlB,CADI,QACzBH,YADyB,eAE/B,MAAI,CAACO,QAAL,CAAc,CACZR,OAAO,CAAE,KADG,CAEZD,KAAK,CAAEE,YAFK,CAAd,EAF+B,sDAAjC,IAOD,C,iDAEa,IACJG,CAAAA,EADI,CACG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MADpB,CACJH,EADI,CAEZV,QAAQ,CAACS,WAAT,CAAqBC,EAArB,EACD,C,uCAEQ,iBACoB,KAAKN,KADzB,CACCE,OADD,aACCA,OADD,CACUD,KADV,aACUA,KADV,CAGP,MACEC,CAAAA,OAAO,cAAG,oBAAC,OAAD,MAAH,cAAiB,2BAAK,SAAS,CAAC,mBAAf,CAAmC,cAAY,eAA/C,eACtB,8CADsB,cAEtB,oBAAC,gBAAD,EAAkB,KAAK,CAAED,KAAzB,EAFsB,CAD1B,CAMD,C,0BA1CwBN,S,EAiD3B,cAAeI,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as movieAPI from '../services/movieAPI';\nimport { Loading, MovieDetailsCard } from '../components';\n\n\n\nclass MovieDetails extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movie: {},\n      loading: true,\n    };\n\n    this.requestMovie = this.requestMovie.bind(this);\n    this.deleteMovie = this.deleteMovie.bind(this);\n  }\n\n  componentDidMount() {\n    this.requestMovie();\n  }\n\n  requestMovie() {\n    const { id } = this.props.match.params;\n    this.setState({ loading: true }, async () => {\n      const requestMovie = await movieAPI.getMovie(id);\n      this.setState({\n        loading: false,\n        movie: requestMovie,\n      });\n    });\n  }\n\n  deleteMovie() {\n    const { id } = this.props.match.params;\n    movieAPI.deleteMovie(id);\n  }\n\n  render() {\n    const { loading, movie } = this.state;\n\n    return (\n      loading ? <Loading /> : <div className=\"details-container\" data-testid=\"movie-details\">\n        <h1>Movie Details</h1>\n        <MovieDetailsCard movie={movie}/>\n      </div>\n    );\n  }\n}\n\nMovieDetails.propTypes = {\n  match: PropTypes.objectOf(Object).isRequired,\n};\n\nexport default MovieDetails;\n"]},"metadata":{},"sourceType":"module"}