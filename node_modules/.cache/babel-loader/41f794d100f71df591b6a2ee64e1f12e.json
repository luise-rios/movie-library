{"ast":null,"code":"import _classCallCheck from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/luisemiranda/Projetos-GitHub/movie-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import MovieForm from'../components/MovieForm';import*as movieAPI from'../services/movieAPI';var NewMovie=/*#__PURE__*/function(_Component){_inherits(NewMovie,_Component);var _super=_createSuper(NewMovie);function NewMovie(props){var _this;_classCallCheck(this,NewMovie);_this=_super.call(this,props);_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.state={redirect:false};return _this;}_createClass(NewMovie,[{key:\"handleSubmit\",value:function handleSubmit(newMovie){var _this2=this;movieAPI.createMovie(newMovie).then(function(){_this2.setState({redirect:true});});}},{key:\"render\",value:function render(){var redirect=this.state.redirect;return redirect?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"new-movie\",className:\"edit-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Add Movie\"),/*#__PURE__*/React.createElement(MovieForm,{onSubmit:this.handleSubmit}));}}]);return NewMovie;}(Component);export default NewMovie;","map":{"version":3,"sources":["/home/luisemiranda/Projetos-GitHub/movie-library/src/pages/NewMovie.js"],"names":["React","Component","Redirect","MovieForm","movieAPI","NewMovie","props","handleSubmit","bind","state","redirect","newMovie","createMovie","then","setState"],"mappings":"m0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,sBAA1B,C,GAEMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EAEA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CAEA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,KADC,CAAb,CALiB,aAQlB,C,uEAEYC,Q,CAAU,iBACrBP,QAAQ,CAACQ,WAAT,CAAqBD,QAArB,EACGE,IADH,CACQ,UAAM,CACV,MAAI,CAACC,QAAL,CAAc,CACZJ,QAAQ,CAAE,IADE,CAAd,EAGD,CALH,EAMD,C,uCAEQ,IACCA,CAAAA,QADD,CACc,KAAKD,KADnB,CACCC,QADD,CAEP,MACEA,CAAAA,QAAQ,cAAG,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAH,cAAyB,2BAAK,cAAY,WAAjB,CAA6B,SAAS,CAAC,gBAAvC,eAC/B,0CAD+B,cAE/B,oBAAC,SAAD,EAAW,QAAQ,CAAE,KAAKH,YAA1B,EAF+B,CADnC,CAMD,C,sBA5BoBN,S,EA8BvB,cAAeI,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport MovieForm from '../components/MovieForm';\nimport * as movieAPI from '../services/movieAPI';\n\nclass NewMovie extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.state = {\n      redirect: false,\n    };\n  }\n\n  handleSubmit(newMovie) {\n    movieAPI.createMovie(newMovie)\n      .then(() => {\n        this.setState({\n          redirect: true,\n        });\n      });\n  }\n\n  render() {\n    const { redirect } = this.state;\n    return (\n      redirect ? <Redirect to=\"/\" /> : <div data-testid=\"new-movie\" className=\"edit-container\">\n        <h1>Add Movie</h1>\n        <MovieForm onSubmit={this.handleSubmit} />\n      </div>\n    );\n  }\n}\nexport default NewMovie;\n"]},"metadata":{},"sourceType":"module"}