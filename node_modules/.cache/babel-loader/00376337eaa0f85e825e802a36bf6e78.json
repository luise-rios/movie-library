{"ast":null,"code":"var _jsxFileName = \"/home/luisemiranda/sd-07-project-movie-card-library-crud/src/pages/MovieDetails.js\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as movieAPI from '../services/movieAPI';\nimport { Loading } from '../components';\n\nclass MovieDetails extends Component {\n  constructor() {\n    super();\n    this.state = {\n      movie: {},\n      loading: true,\n      redirect: false\n    };\n    this.requestMovie = this.requestMovie.bind(this);\n    this.deleteMovie = this.deleteMovie.bind(this);\n  }\n\n  componentDidMount() {\n    this.requestMovie();\n  }\n\n  requestMovie() {\n    const {\n      id\n    } = this.props.match.params;\n    this.setState({\n      loading: true\n    }, async () => {\n      const requestMovie = await movieAPI.getMovie(id);\n      this.setState({\n        loading: false,\n        movie: requestMovie\n      });\n    });\n  }\n\n  deleteMovie(id) {\n    movieAPI.deleteMovie(id).then(() => {\n      this.setState({\n        redirect: true\n      });\n    });\n  }\n\n  render() {\n    const {\n      loading,\n      movie\n    } = this.state;\n    const {\n      title,\n      storyline,\n      imagePath,\n      genre,\n      rating,\n      subtitle,\n      id\n    } = movie;\n    if (redirect) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 26\n      }\n    });\n    return loading ? /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      \"data-testid\": \"movie-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Movie Cover\",\n      src: `../${imagePath}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, `Title: ${title}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, `Subtitle: ${subtitle}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, `Storyline: ${storyline}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, `Genre: ${genre}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, `Rating: ${rating}`), /*#__PURE__*/React.createElement(Link, {\n      to: `/movies/${id}/edit`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, \"EDITAR\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, \"VOLTAR\"), /*#__PURE__*/React.createElement(Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, \"DELETAR\"));\n  }\n\n}\n\nMovieDetails.propTypes = {\n  match: PropTypes.objectOf(Object).isRequired\n};\nexport default MovieDetails;","map":{"version":3,"sources":["/home/luisemiranda/sd-07-project-movie-card-library-crud/src/pages/MovieDetails.js"],"names":["React","Component","Link","Redirect","PropTypes","movieAPI","Loading","MovieDetails","constructor","state","movie","loading","redirect","requestMovie","bind","deleteMovie","componentDidMount","id","props","match","params","setState","getMovie","then","render","title","storyline","imagePath","genre","rating","subtitle","propTypes","objectOf","Object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport * as movieAPI from '../services/movieAPI';\nimport { Loading } from '../components';\n\n\nclass MovieDetails extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movie: {},\n      loading: true,\n      redirect: false,\n    };\n\n    this.requestMovie = this.requestMovie.bind(this);\n    this.deleteMovie = this.deleteMovie.bind(this);\n  }\n\n  componentDidMount() {\n    this.requestMovie();\n  }\n\n  requestMovie() {\n    const { id } = this.props.match.params;\n    this.setState({ loading: true }, async () => {\n      const requestMovie = await movieAPI.getMovie(id);\n      this.setState({\n        loading: false,\n        movie: requestMovie,\n      });\n    });\n  }\n\n  deleteMovie(id) {\n    movieAPI.deleteMovie(id)\n    .then(() => {\n      this.setState({\n        redirect: true,\n      });\n    });\n  }\n\n  render() {\n    const { loading, movie } = this.state;\n    const { title, storyline, imagePath, genre, rating, subtitle, id } = movie;\n\n    if (redirect) return <Redirect to=\"/\" />\n    \n    return (\n      loading ? <Loading /> : <div data-testid=\"movie-details\">\n        <img alt=\"Movie Cover\" src={`../${imagePath}`} />\n        <p>{`Title: ${title}`}</p>\n        <p>{`Subtitle: ${subtitle}`}</p>\n        <p>{`Storyline: ${storyline}`}</p>\n        <p>{`Genre: ${genre}`}</p>\n        <p>{`Rating: ${rating}`}</p>\n        <Link to={`/movies/${id}/edit`}>EDITAR</Link>\n        <Link to=\"/\">VOLTAR</Link>\n        <Link>DELETAR</Link>\n      </div>\n    );\n  }\n}\n\nMovieDetails.propTypes = {\n  match: PropTypes.objectOf(Object).isRequired,\n};\n\nexport default MovieDetails;\n"]},"metadata":{},"sourceType":"module"}